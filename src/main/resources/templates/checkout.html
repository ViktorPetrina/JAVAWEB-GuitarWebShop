<!DOCTYPE html>
<html lang="en">
<head>
    <title>Checkout - Guitar Store</title>
    <link rel="stylesheet" th:href="@{/css/checkout.css}">
    <link rel="stylesheet" th:href="@{/css/guitarListAndHeader.css}">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
</head>
<body>

<div th:replace="~{fragments/header}"></div>

<main class="cart-container">
    <h2>Checkout</h2>

    <div class="cart-summary">
        <h3>Order Summary</h3>
        <p class="total">Total Price: $<span th:text="${totalPrice}"></span></p>
    </div>

    <div class="checkout-form">
        <h3>Billing Details</h3>
        <form th:action="@{/GuitarStore/checkout}" method="post">

            <label for="name">Full Name:</label>
            <input type="text" id="name" name="name" required>

            <label for="address">Address:</label>
            <input type="text" id="address" name="address" required>

            <label>Payment Method:</label>
            <div class="payment-buttons">
                <button type="submit" class="payment-button" name="paymentMethod" value="payment-on-delivery">
                    ðŸšš Payment on Delivery
                </button>
                <button type="submit" class="payment-button" name="paymentMethod" value="paypal">
                    ðŸ’³ PayPal
                </button>
            </div>

            <div id="payment-on-delivery-fields">
                <p>You'll pay upon receiving the delivery.</p>
            </div>

            <div id="paypal-fields" style="display: none;">
                <label for="paypal-email">PayPal Email:</label>
                <input type="email" id="paypal-email" name="paypalEmail">
            </div>
        </form>
    </div>
</main>

<script>
    document.querySelectorAll('.payment-button').forEach(button => {
        button.addEventListener('click', function(event) {
            document.querySelectorAll('.payment-button').forEach(btn => btn.classList.remove('active'));
            this.classList.add('active');
        });
    });
</script>

</body>
</html>
